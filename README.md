# wallet

## 니모닉 지갑이란

니모닉(Mnemonic)이란 결정적 지갑에서 난수 12개의 영단어로 인코딩한 영단어 그룹으로, BIP-39에서 제안되었습니다.

암호화폐 지갑은 `비대칭키 암호 방식`을 사용합니다. 이때 공개키와 개인키(=비밀키)가 사용이 되는데, 이 개인키를 사람이 쓰기 편하게 만들어진 것이 바로, **니모닉(mnemonic)**입니다.

## 니모닉 생성과 원리

1. 128bit or 256bit 길이의 난수를 생성
2. 난수를 SHA-256알고리즘으로 해싱
    1. 해시 값에서 (시드 키의 길이) / 32 만큼을 떼어낸다.
3. 체크섬을 난수의 뒤에 붙인다
4. 체크섬을 붙인 난수를 11bit 단위로 잘라낸다.
5. 각 11bit의 단어를 사전에 정의된 단어로 치환한다.
6. 각 11bit의 순서를 유지하여 일련의 니모닉 코드를 만든다.

키 스트레칭 함수 PBKDF2() 함수에 니모닉 코드 단어 + Salt를 넣는다.

1. 함수의 첫번째 인자는 6단계에서 생성된 니모닉 코드
2. 두번째 인자는 솔트
    - 솔트는 문자열 상수 “mnemonic”과 선택적으로 사용자가 지정한 암호문을 연결하여 구성한다.
3. PBKDF2는 출력으로 512비트 값의 seed이다
    - 512비트 값을 만드는 HMAC-SHA512 알고리즘으로

### **Salting**

- 솔팅(Salting)은 원본 데이터에 임의의 문자열인 솔트(Salt)를 추가하여 해싱하는 방식입니다.
- 해커는 솔트 값 까지 맞춰야하므로
  - 레인보우 공격을 피할 수 있다.
  - 무차별 대입 공격을 피할 수 있다.
